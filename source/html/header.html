<header class="clearfix" ng-controller="HeaderCtrl">
    <!-- Logo -->
    <div class="logo">
        <a href="#/"><span>{{main.brand}}</span></a>
    </div>
    <!-- needs to be put after logo to make it working-->
    <div class="menu-button" toggle-off-canvas>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
    </div>
    <div class="top-nav">
        <ul class="nav-left list-unstyled">
            <li>
                <a class="toggle-min" data-toggle-min-nav href="#/"><i class="fa fa-bars"></i></a>
            </li>
            <li class="dropdown text-normal nav-profile">
                <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;"><img alt="" class="img-circle img30_30" ng-src="{{ user.meta.profile_img_url | getAvatar }}"/><span class="hidden-xs"><span> {{user.meta.first_name}}</span></span></a>
                <ul class="dropdown-menu dropdown-dark with-arrow">
                    <li>
                        <a href="#/user/lock"><i class="fa fa-lock"></i><span> Lock Screen</span></a>
                    </li>
                    <li>
                        <a go-click="/user/signin" log-out><i class="fa fa-sign-out"></i><span> Log Out</span></a>
                    </li>
                </ul>
            </li>
        </ul>
        <ul class="nav-right pull-right list-unstyled">
            <li>
                <div class="bg-dark time-header" href="javascript:;" my-current-time="'MM/dd/yyyy h:mm:ssa'">
                </div>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle bg-orange" data-toggle="dropdown" href="javascript:;"><i class="fa fa-comment-o"></i><span class="badge badge-info" ng-bind="(messages.data | filter:{read_at:null, receiver:user.meta.id}).length"></span></a>
                <div class="dropdown-menu pull-right with-arrow panel panel-default">
                    <div class="panel-heading">
                        You have {{ (messages.data | filter: {read_at: null, receiver:user.meta.id}).length ? (messages.data | filter:{read_at:null, receiver:user.meta.id}).length : 0 }} messages.
                    </div>
                    <ul class="list-group message-box">
                        <li class="list-group-item" ng-repeat="m in messages.data | filter:{read_at:null, receiver:user.meta.id} track by m.id">
                            <a class="media" href="#/messages/{{m.id}}"><span class="pull-left media-icon"><img alt="" class="img-circle img30_30" ng-src="{{ sender.meta.profile_img_url | getAvatar }}"/></span><div class="media-body"><span class="block" ng-bind="m.name"></span><span class="block small" ng-bind="m.body|characters :12"></span></div><span class="text-muted pull-right" ng-bind="m.created_at|timeago"></span></a>
                        </li>
                    </ul>
                    <div class="panel-footer">
                        <a href="#/messages">View all messages.</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</header>